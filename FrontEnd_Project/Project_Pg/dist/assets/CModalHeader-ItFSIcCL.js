import{r as n,_ as v,R as l,a as m,c as p,P as o}from"./index-DA6Na_pq.js";import{q as j,r as le}from"./DefaultLayout-D05Jrs9N.js";import{u as re,T as te,C as ae}from"./CCloseButton-Dh6QjDBd.js";var E=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=v(e,["children","className"]);return l.createElement("div",m({className:p("modal-content",i)},a,{ref:s}),r)});E.propTypes={children:o.node,className:o.string};E.displayName="CModalContent";var q=n.createContext({}),k=n.forwardRef(function(e,s){var r,i=e.children,a=e.alignment,c=e.className,u=e.fullscreen,f=e.scrollable,b=e.size,y=v(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",m({className:p("modal-dialog",(r={"modal-dialog-centered":a==="center"},r[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,r["modal-dialog-scrollable"]=f,r["modal-".concat(b)]=b,r),c)},y,{ref:s}),i)});k.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};k.displayName="CModalDialog";var I=n.forwardRef(function(e,s){var r=e.children,i=e.alignment,a=e.backdrop,c=a===void 0?!0:a,u=e.className,f=e.container,b=e.duration,y=b===void 0?150:b,x=e.focus,J=x===void 0?!0:x,Q=e.fullscreen,w=e.keyboard,U=w===void 0?!0:w,W=e.onClose,R=e.onClosePrevented,X=e.onShow,O=e.portal,T=O===void 0?!0:O,Y=e.scrollable,Z=e.size,M=e.transition,h=M===void 0?!0:M,P=e.unmountOnClose,$=P===void 0?!0:P,N=e.visible,_=v(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),B=n.useRef(null),C=n.useRef(null),ee=n.useRef(null),oe=re(s,C),z=n.useState(N),d=z[0],g=z[1],L=n.useState(!1),S=L[0],V=L[1],ne={visible:d,setVisible:g};n.useEffect(function(){g(N)},[N]),n.useEffect(function(){var t;return d?(B.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(t=B.current)===null||t===void 0||t.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[d]);var D=function(){if(c==="static")return V(!0);g(!1)};n.useLayoutEffect(function(){R&&R(),setTimeout(function(){return V(!1)},y)},[S]),n.useLayoutEffect(function(){return d?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var t;J&&((t=C.current)===null||t===void 0||t.focus())},h?y:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[d]);var F=function(t){C.current&&C.current==t.target&&D()},H=function(t){t.key==="Escape"&&U&&D()};return l.createElement(l.Fragment,null,l.createElement(te,{in:d,mountOnEnter:!0,nodeRef:C,onEnter:X,onExit:W,unmountOnExit:$,timeout:h?y:0},function(t){return l.createElement(j,{container:f,portal:T},l.createElement(q.Provider,{value:ne},l.createElement("div",m({className:p("modal",{"modal-static":S,fade:h,show:t==="entered"},u),tabIndex:-1},d?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:m({},t!=="exited"&&{display:"block"})},_,{ref:oe}),l.createElement(k,{alignment:i,fullscreen:Q,scrollable:Y,size:Z},l.createElement(E,{ref:ee},r)))))}),c&&l.createElement(j,{container:f,portal:T},l.createElement(le,{visible:d})))});I.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,container:o.any,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};I.displayName="CModal";var K=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=v(e,["children","className"]);return l.createElement("div",m({className:p("modal-body",i)},a,{ref:s}),r)});K.propTypes={children:o.node,className:o.string};K.displayName="CModalBody";var A=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=v(e,["children","className"]);return l.createElement("div",m({className:p("modal-footer",i)},a,{ref:s}),r)});A.propTypes={children:o.node,className:o.string};A.displayName="CModalFooter";var G=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=e.closeButton,c=a===void 0?!0:a,u=v(e,["children","className","closeButton"]),f=n.useContext(q).setVisible;return l.createElement("div",m({className:p("modal-header",i)},u,{ref:s}),r,c&&l.createElement(ae,{onClick:function(){return f(!1)}}))});G.propTypes={children:o.node,className:o.string,closeButton:o.bool};G.displayName="CModalHeader";export{I as C,G as a,K as b,A as c};
