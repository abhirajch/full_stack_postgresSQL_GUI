import{r,h as w,j as e,L as N}from"./index-DA6Na_pq.js";import{C as i}from"./index.esm-BxhKCtHB.js";import{b,a as T}from"./CContainer-Pekuqi4V.js";import{C as S,a as R}from"./CRow-i1kvomWg.js";import{C as P,a as L}from"./CCardBody-6Dx6aIub.js";import{C as k}from"./CForm-DD-bYS1P.js";import{C as t,a as o}from"./CInputGroupText-CIZJAD-S.js";import{c as q,a as u}from"./cil-user-Dlmw-Gem.js";import{C as l}from"./CFormInput-Djvhovm-.js";import"./CFormControlWrapper-Byw6dZ_c.js";import"./CFormControlValidation-D2muq1_r.js";import"./CFormLabel-Dr99k2io.js";const K=()=>{const[d,x]=r.useState(""),[n,j]=r.useState(""),[m,C]=r.useState(""),[p,g]=r.useState(""),[h,c]=r.useState(""),y=w(),f=async s=>{if(s.preventDefault(),n!==p)return c("Passwords don't match");try{const a=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:n,type:m})}),v=await a.json();a.ok?(alert("Registration successful! Please login."),y("/login")):c(v.error||"Registration failed")}catch(a){console.error(a),c("Server error. Try again later.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(b,{children:e.jsx(S,{className:"justify-content-center",children:e.jsx(R,{md:9,lg:7,xl:6,children:e.jsx(P,{className:"mx-4",children:e.jsx(L,{className:"p-4",children:e.jsxs(k,{onSubmit:f,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),h&&e.jsx("p",{style:{color:"red"},children:h}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(i,{icon:q})}),e.jsx(l,{placeholder:"Username",value:d,onChange:s=>x(s.target.value),autoComplete:"username",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(i,{icon:u})}),e.jsx(l,{type:"password",placeholder:"Password",value:n,onChange:s=>j(s.target.value),autoComplete:"new-password",required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(i,{icon:u})}),e.jsx(l,{type:"password",placeholder:"Repeat password",value:p,onChange:s=>g(s.target.value),autoComplete:"new-password",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:"User Type"}),e.jsxs("select",{className:"form-control",value:m,onChange:s=>C(s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Technical",children:"Technical"}),e.jsx("option",{value:"Non-Technical",children:"Non-Technical"})]})]}),e.jsx("div",{className:"d-grid mb-2",children:e.jsx(T,{color:"success",type:"submit",children:"Create Account"})}),e.jsxs("div",{className:"text-center",children:["Already have an account?"," ",e.jsx(N,{to:"/login",children:"Login here"})]})]})})})})})})})};export{K as default};
