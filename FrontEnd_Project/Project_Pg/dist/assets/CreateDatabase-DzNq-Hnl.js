import{r as t,h as u,j as e}from"./index-DA6Na_pq.js";import{a as C}from"./baseURL-D-lPueBZ.js";import{C as x,a as h}from"./CCardBody-6Dx6aIub.js";import{C as b}from"./CCardHeader-DZP1FFa0.js";import{C as f}from"./CForm-DD-bYS1P.js";import{C as j}from"./CFormInput-Djvhovm-.js";import{a as y}from"./CContainer-Pekuqi4V.js";import{C as l}from"./CAlert-BpsfxQKq.js";import"./CFormControlWrapper-Byw6dZ_c.js";import"./CFormControlValidation-D2muq1_r.js";import"./CFormLabel-Dr99k2io.js";import"./CCloseButton-Dh6QjDBd.js";const H=()=>{const[o,m]=t.useState(""),[n,a]=t.useState(""),[c,i]=t.useState(""),d=u(),p=async r=>{r.preventDefault(),a(""),i("");try{const s=await C.post("/databases",{db_name:o});s.status===200||s.status===201?(i("Database created successfully!"),m(""),setTimeout(()=>d("/dashboard"),1500)):a("Something went wrong.")}catch(s){console.error(s),s.response&&s.response.data&&s.response.data.error?a(s.response.data.error):a("Server error. Please try again.")}};return e.jsxs(x,{className:"mx-auto mt-5",style:{maxWidth:"500px"},children:[e.jsx(b,{children:"Create New Database"}),e.jsxs(h,{children:[e.jsxs(f,{onSubmit:p,children:[e.jsx(j,{type:"text",label:"Database Name",value:o,onChange:r=>m(r.target.value),required:!0}),e.jsx("div",{className:"mt-3",children:e.jsx(y,{type:"submit",color:"primary",children:"Create"})})]}),c&&e.jsx(l,{color:"success",className:"mt-3",children:c}),n&&e.jsx(l,{color:"danger",className:"mt-3",children:n})]})]})};export{H as default};
